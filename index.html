<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="cache-control" content="max-age=0">
  <meta http-equiv="cache-control" content="no-cache">
  <meta http-equiv="expires" content="0">
  <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT">
  <meta http-equiv="pragma" content="no-cache">
  <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">

  <title>Laima's Compass</title>

  <link href="/node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="/res/css/common.css" rel="stylesheet">

  <script src="/node_modules/angular/angular.min.js"></script>
  <script src="/socket.io/socket.io.js"></script>

  <script src="/res/js/app.js"></script>
  <script src="/res/js/controllers.js"></script>

</head>

<body ng-app="sampleApp">

  <div ng-controller="MasterController" class="container-fluid">

    <h2 class="sub-header hilight">{{event.Character}}</h2>

    <div class="row m-b-5">
      <h4 class="col-xs-12 hilight"><span class='mapmarker'></span>{{mapNames[event.MapData.ClassID]}}</h4>
    </div>

    <div class="row p-10">
      <div class="col-xs-offset-1 col-xs-3">Exploration</div>
      <div class="col-xs-7">
        <div class="progress-bar" role="progressbar" aria-valuenow="(event.Data.Exploration.Current / event.Data.Exploration.Total) * 100"
          aria-valuemin="0" aria-valuemax="100" style="width:{{(event.Data.Exploration.Current / event.Data.Exploration.Total) * 100}}%">
          {{(event.Data.Exploration.Current / event.Data.Exploration.Total) * 100}}%
        </div>
      </div>
      <div class="col-xs-1" ng-if='event.Data.Exploration.Current === event.Data.Exploration.Total'>OK</div>
    </div>

    <div class="row p-10 p-t-0" ng-repeat='(k,v) in event.Data' ng-if="k !=='Exploration'">
      <div class="col-xs-offset-1 col-xs-3">{{v.Data.Journal}}</div>
      <div class="col-xs-7">

        <div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" style="width:{{ v.Kills > v.ReqKills ? 100 : (v.Kills / v.ReqKills) * 100}}%">

          <span ng-if='v.Kills > v.ReqKills * .8'>
          {{v.Kills}} <span class='faded'>out of</span> {{v.ReqKills}}
          </span>
          <span ng-if='v.Kills <= v.ReqKills * .8'>
          &nbsp;
          </span>
        </div>
        
        <span ng-if='v.Kills <= v.ReqKills * .8' class='float-left'>{{v.Kills}}</span>
        <span ng-if='v.Kills <= v.ReqKills * .8' class='float-right'>{{v.ReqKills}}</span>
        
      </div>
      <div class="col-xs-1" ng-if='v.Kills >= v.ReqKills'>OK</div>
    </div>

  </div>
</body>

</html>